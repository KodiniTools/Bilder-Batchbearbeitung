/*
  main.css – Vollständig modernisiertes Layout
  -----------------------------------------------------------------------
  • Glassmorphism, Micro-Animationen und moderne Designsprache
  • Performance-optimiert mit Hardware-Beschleunigung
*/

/* =============================
   Farbvariablen (erweitert)
   ============================= */
:root {
  /* Platzhalter für die Höhe der globalen Navigation */
  --global-nav-height: 0px;

  /* Neue Farbpalette */
  --color-gold: #F2E28E;
  --color-mauve: #A28680;
  --color-gray: #5E5F69;
  --color-silver: #AEAFB7;
  --color-dark: #0C0C10;

  /* Basis-Farben (angepasst an neue Palette) */
  --green: #22c55e;
  --red: #ef4444;
  --yellow: var(--color-gold);
  --purple: #8b5cf6;
  --cyan: #06b6d4;

  /* Light Theme (Standard) */
  --bg: #F8F7F2;
  --panel: #FFFFFF;
  --text: var(--color-dark);
  --muted: var(--color-gray);
  --accent: var(--color-gold);
  --accent-hover: #E8D87E;
  --accent-text: var(--color-dark);
  --secondary: var(--color-mauve);
  --btn: #F0EFE8;
  --btn-hover: #E5E4DC;
  --ring: var(--color-mauve);
  --border-color: var(--color-silver);
  --shadow-color: rgb(12 12 16 / 12%);
  --canvas-bg: var(--color-dark);

  /* Neue moderne Variablen */
  --glass-bg: color-mix(in oklab, var(--panel) 85%, transparent);
  --glass-border: color-mix(in oklab, var(--border-color) 50%, transparent);
  --surface-elevation: 0 8px 32px color-mix(in oklab, var(--shadow-color) 20%, transparent);
  --surface-hover: 0 16px 48px color-mix(in oklab, var(--shadow-color) 30%, transparent);
  --surface-active: 0 4px 16px color-mix(in oklab, var(--shadow-color) 25%, transparent);

  /* Dynamische Hintergründe */
  --body-gradient:
    radial-gradient(circle at 25% 25%, color-mix(in oklab, var(--color-gold) 6%, transparent) 0%, transparent 60%),
    radial-gradient(circle at 75% 75%, color-mix(in oklab, var(--color-mauve) 5%, transparent) 0%, transparent 60%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in oklab, var(--bg) 96%, var(--color-gold)) 100%);

  /* Layout-Variablen */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;

  --space-1: 6px;
  --space-2: 10px;
  --space-3: 14px;
  --space-4: 18px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 48px;

  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  /* Animation Curves */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Dark Theme Overrides */
:root[data-theme="dark"] {
  --bg: var(--color-dark);
  --panel: #1A1A1E;
  --text: #F5F5F2;
  --muted: var(--color-silver);
  --accent: var(--color-gold);
  --accent-hover: #FFF0A0;
  --accent-text: var(--color-dark);
  --secondary: var(--color-mauve);
  --btn: #2A2A30;
  --btn-hover: var(--color-gray);
  --ring: var(--color-mauve);
  --border-color: rgb(174 175 183 / 25%);
  --shadow-color: rgb(0 0 0 / 60%);

  --glass-bg: color-mix(in oklab, var(--panel) 75%, transparent);
  --glass-border: color-mix(in oklab, var(--border-color) 70%, transparent);

  --body-gradient:
    radial-gradient(circle at 20% 80%, color-mix(in oklab, var(--color-gold) 8%, transparent) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, color-mix(in oklab, var(--color-mauve) 6%, transparent) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, color-mix(in oklab, var(--color-gray) 5%, transparent) 0%, transparent 70%),
    linear-gradient(135deg, var(--bg) 0%, color-mix(in oklab, var(--bg) 95%, #1a1a2e) 100%);
}

/* =============================
   Base / Reset (verbessert)
   ============================= */
* {
  box-sizing: border-box;
}

html, body {
  height: auto;
  min-height: 100%;
}

/* =============================
   Typography - Korrekte Groß-/Kleinschreibung beibehalten
   (text-transform: lowercase entfernt - verstößt gegen deutsche Rechtschreibung)
   ============================= */

body {
  margin: 0;
  font-family: var(--font-sans);
  color: var(--text);
  background: var(--body-gradient);
  background-attachment: fixed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.5s var(--ease-smooth), color 0.3s var(--ease-smooth);
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
}

img, canvas, svg, video { 
  display: block; 
  max-width: 100%; 
}

button { 
  font: inherit; 
  cursor: pointer; 
  border: none;
  background: none;
}

:focus-visible {
  outline: none;
  box-shadow: 
    0 0 0 3px var(--bg), 
    0 0 0 6px var(--accent),
    0 8px 20px color-mix(in oklab, var(--accent) 20%, transparent);
  border-radius: var(--radius-sm);
  transition: box-shadow 200ms var(--ease-smooth);
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { 
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* =============================
   Dark Mode Specific Enhancements
   ============================= */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --surface-elevation: 0 8px 32px color-mix(in oklab, black 40%, transparent);
    --surface-hover: 0 16px 48px color-mix(in oklab, black 60%, transparent);
  }
}

/* =============================
   Utility Classes
   ============================= */
.hidden {
  display: none !important;
}

.muted {
  color: var(--muted);
  font-size: 0.9rem;
}

/* =============================
   Global Navigation & Footer Fixes
   ============================= */
/* Ensure global navigation from /partials/nav.html has higher z-index than app header */
body > nav,
body > header {
  position: relative;
  z-index: 1000 !important;
}

/* Ensure navigation dropdowns are above everything */
body > nav .dropdown,
body > nav .dropdown-menu,
body > nav [class*="dropdown"],
body > nav [class*="menu"] {
  z-index: 1001 !important;
}

/* Ensure footer from /partials/footer.html is visible */
body > footer {
  position: relative;
  z-index: 10;
  margin-top: auto;
}

/* Make sure Vue app doesn't cover footer */
#app {
  position: relative;
  z-index: 1;
  min-height: auto;
}

/* =============================
   Print Styles
   ============================= */
@media print {
  .app-header, .app-footer, .status-bar, .image-actions {
    display: none !important;
  }
  
  .image-card {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ccc;
  }
  
  body {
    background: white !important;
  }
}
